(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-454e0ae0"],{"0592":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"stu",staticStyle:{position:"relative"}},[e("div",{staticStyle:{width:"100%",height:"56px","border-bottom":"1px solid #ECECEC"}},[e("p",{staticStyle:{"font-size":"28px","font-weight":"600",float:"left"}},[t._v("离职管理")]),e("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(a){return t.git_fuchad2("",!1)}}},[t._v("新增离职员工")])],1),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,width:"100%",height:"561",stripe:"",height:670}},[e("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"name",label:"姓名"}}),e("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"work_type",label:"工种"}}),e("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"name",label:"入职时间"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(a.row.entry_time.substr(0,10)))]}}])}),e("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"name",label:"离职时间"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(a.row.turnover_time.substr(0,10)))]}}])}),e("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"turnover_reason","show-overflow-tooltip":"",label:"离职原因"}}),e("el-table-column",{attrs:{"header-align":"center",align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.min(a.row)}}},[t._v("详情")]),e("el-button",{staticStyle:{color:"#FF4949"},attrs:{type:"text",size:"small"},on:{click:function(e){return t.git_fuchad2(a.row,!0)}}},[t._v("修改")])]}}])})],1),e("jianact",{ref:"child"}),e("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.totals>10,expression:"totals>10"}],staticStyle:{"margin-top":"25px"},attrs:{background:"","page-sizes":t.ye_s,"page-size":t.size,layout:"total, sizes, prev, pager, next, jumper",total:t.totals},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),e("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{visible:t.dialogVisible2,width:"35%","close-on-click-modal":!1,"before-close":t.handleClose},on:{"update:visible":function(a){t.dialogVisible2=a}}},[e("p",{staticClass:"pbox",staticStyle:{"text-align":"center",width:"100%","font-size":"23px",height:"40px"}},[t._v(t._s(t.act_yuan?"修改离职员工信息":"新增离职员工信息")+" ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.act_yuan,expression:"!act_yuan"}],staticClass:"tabboxa"},[e("p",[e("a",[t._v("*")]),t._v("离职员工")]),e("el-select",{staticClass:"tabboxright",attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.value.staff_id,callback:function(a){t.$set(t.value,"staff_id",a)},expression:"value.staff_id"}},t._l(t.tabzaibox,(function(t,a){return e("el-option",{attrs:{label:t.name,value:t.id}})})),1)],1),e("div",{staticClass:"tabboxa"},[e("p",[e("a",[t._v("*")]),t._v("离职时间")]),e("el-date-picker",{staticClass:"tabboxright",attrs:{placeholder:"请选择","value-format":"yyyy-MM-dd",type:"date",clearable:""},model:{value:t.value.turnover_time,callback:function(a){t.$set(t.value,"turnover_time",a)},expression:"value.turnover_time"}})],1),e("div",{staticClass:"tabboxa",staticStyle:{height:"120px","margin-bottom":"57px"}},[e("p",[e("a",[t._v("*")]),t._v("离职原因")]),e("el-input",{staticClass:"tabboxright",attrs:{"show-word-limit":"",maxlength:"500",type:"textarea",rows:5,placeholder:"请输入"},model:{value:t.value.turnover_reason,callback:function(a){t.$set(t.value,"turnover_reason",a)},expression:"value.turnover_reason"}})],1),e("span",{staticStyle:{width:"200px",margin:"0 auto"}},[e("el-button",{on:{click:t.handleClose}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.git_put}},[t._v("确 定")])],1)])],1)},s=[],o=(e("3a20"),e("7267"),e("debc")),l=e.n(o),c=e("9f47"),n={name:"stu",components:{jianact:c["a"]},computed:{indexof:function(){return function(t,a){for(var e=0;e<t.length;e++)if(a==t[e].label){this.$store.state.tab_cox=e;break}}}},data:function(){return{recru:"",totals:0,tab_num:0,loading:!1,active:[],pages:1,size:10,ye_s:[10,15,20],dialogVisible2:!1,act_yuan:!1,value:{staff_id:"",company_id:"",company_name:"",turnover_reason:"",turnover_time:""},tableData:[],tabzaibox:[]}},methods:{min:function(t){this.$refs.child.git_act(t)},git_active:function(){var t=this;this.loading=!0,l.a.ajax({url:"/pm/retire_staff/retire_staff_list",type:"post",data:{company_id:localStorage.uid,page:this.pages,size:this.size},dataType:"json",success:function(a){"[object Object]"!=Object.prototype.toString.call(a)&&(a=JSON.parse(a)),200==a.code?(t.tableData=a.data,t.totals=a.count):t.active=[],console.log(a,"离职列表"),t.loading=!1}})},git_acts:function(){var t=this;l.a.ajax({url:"/pm/retire_staff/get_all_staff",type:"post",data:{company_id:localStorage.uid},dataType:"json",success:function(a){"[object Object]"!=Object.prototype.toString.call(a)&&(a=JSON.parse(a)),200==a.code?t.tabzaibox=a.data:t.active=[],console.log(a,"在职列表")}})},git_put:function(){var t=this;if(this.act_yuan&&(this.value.staff_id=this.value.id),!this.value.staff_id)return this.$message({message:"请选择 离职员工",type:"warning"}),!1;if(!this.value.turnover_time)return this.$message({message:"请选择 离职时间",type:"warning"}),!1;if(!this.value.turnover_reason)return this.$message({message:"请填写 离职原因",type:"warning"}),!1;this.value.company_id=localStorage.uid,this.value.company_name=localStorage.company;var a=this.act_yuan?"/pm/retire_staff/modify_retire_staff":"/pm/retire_staff/insert_retire_staff";l.a.ajax({url:a,type:"post",data:this.value,dataType:"json",success:function(a){"[object Object]"!=Object.prototype.toString.call(a)&&(a=JSON.parse(a)),200==a.code?(t.$message({message:"操作成功",type:"success"}),t.dialogVisible2=!1,t.git_active(),t.value={staff_id:"",company_id:"",company_name:"",turnover_reason:"",turnover_time:""}):t.active=[]}})},handleSizeChange:function(t){console.log("每页 ".concat(t," 条")),this.size=t,this.git_active()},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.pages=t,this.git_active()},git_fuchad2:function(t,a){console.log(t),this.act_yuan=a,a&&(this.value=t),this.dialogVisible2=!0},handleClose:function(t){var a=this;this.$confirm("确定取消关闭吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.dialogVisible2=!1})).catch((function(){}))}},mounted:function(){this.indexof(this.$router.options.routes[1].children,"离职管理"),this.git_active(),this.git_acts()}},r=n,d=(e("76da"),e("e90a")),v=Object(d["a"])(r,i,s,!1,null,"b496d4b8",null);a["default"]=v.exports},2718:function(t,a,e){},"48d0":function(t,a,e){},"76da":function(t,a,e){"use strict";var i=e("48d0"),s=e.n(i);s.a},"9f47":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"stu"},[e("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{visible:t.dialogVisible,width:"52%","before-close":t.handleClose,top:"3vh"},on:{"update:visible":function(a){t.dialogVisible=a}}},[e("p",{staticClass:"pbox",staticStyle:{"text-align":"center",width:"100%","font-size":"30px",height:"40px"}},[t._v("员工信息详情")]),e("p",{staticClass:"pbox"},[e("a",{staticStyle:{color:"red"}},[t._v("*")]),t._v("基本信息")]),e("div",{staticStyle:{width:"100%",height:"255px","margin-bottom":"39px"}},[e("div",{staticStyle:{width:"50%",height:"220px",float:"left"}},[e("div",{staticClass:"tabbox"},[e("p",[t._v("姓名")]),e("div",{staticClass:"pboxc1",staticStyle:{width:"27.5%"}},[t._v(t._s(t.active.name))]),e("p",{staticStyle:{width:"9%"}},[t._v("性别")]),e("div",{staticClass:"pboxc1",staticStyle:{width:"27.5%"}},[t._v(t._s(1==t.active.sex?"男":"女"))])]),e("div",{staticClass:"tabbox"},[e("p",[t._v("出生年月")]),e("div",{staticClass:"pboxc1",staticStyle:{width:"27.5%"}},[t._v(t._s(t.active.birth_day))]),e("p",{staticStyle:{width:"9%"}},[t._v("年龄")]),e("div",{staticClass:"pboxc1",staticStyle:{width:"27.5%"}},[t._v(t._s(t.active.age))])]),e("div",{staticClass:"tabbox"},[e("p",[t._v("身份证号码")]),e("div",{staticClass:"pboxc1"},[t._v(t._s(t.active.card))])]),e("div",{staticClass:"tabbox"},[e("p",[t._v("是否贫困人口")]),e("div",{staticClass:"pboxc1"},[t._v(t._s(1==t.active.is_poor?"是":"否"))])]),e("div",{staticClass:"tabbox"},[e("p",[t._v("是否服过兵役")]),e("div",{staticClass:"pboxc1"},[t._v(t._s(1==t.active.is_military?"是":"否"))])])]),e("div",{staticStyle:{width:"50%",height:"220px",float:"right"}},[e("div",{staticClass:"tabbox"},[e("p",[t._v("政治面貌")]),e("div",{staticClass:"pboxc1",staticStyle:{width:"27.5%"}},[t._v(t._s(t.docsa(t.active.politic_id)))]),e("p",{staticStyle:{width:"9%"}},[t._v("籍贯")]),e("div",{staticClass:"pboxc1",staticStyle:{width:"27.5%"}},[t._v(t._s(t.active.home_town))])]),e("div",{staticClass:"tabbox"},[e("p",[t._v("入职时间")]),e("div",{staticClass:"pboxc1",staticStyle:{width:"27.5%"}},[t._v(t._s(t.active.entry_time.substr(0,10)))]),e("p",{staticStyle:{width:"9%"}},[t._v("职称")]),e("div",{staticClass:"pboxc1",staticStyle:{width:"27.5%"}},[t._v(t._s(t.active.job_title))])]),e("div",{staticClass:"tabbox"},[e("p",[t._v("岗位状态")]),e("div",{staticClass:"pboxc1",staticStyle:{width:"27.5%"}},[t._v(t._s(1==t.active.position_status?"在职":"离职"))]),e("p",{staticStyle:{width:"9%"}},[t._v("工种")]),e("div",{staticClass:"pboxc1",staticStyle:{width:"27.5%"}},[t._v(t._s(t.active.work_type))])]),e("div",{staticClass:"tabbox"},[e("p",[t._v("联系电话")]),e("div",{staticClass:"pboxc1"},[t._v(t._s(t.active.phone))])]),e("div",{staticClass:"tabbox"},[e("p",[t._v("脱贫属性")]),e("div",{staticClass:"pboxc1"},[t._v(t._s(t.docsa(t.active.poor_id)))])])]),e("div",{staticClass:"tabbox",staticStyle:{float:"left","margin-top":"10px"}},[e("p",{staticStyle:{width:"9.7%"}},[t._v("家庭住址")]),e("div",{staticClass:"pboxc1",staticStyle:{width:"85.1%"}},[t._v(t._s(t.active.home_address))])])]),e("p",{staticClass:"pbox"},[e("a",{staticStyle:{color:"red"}},[t._v("*")]),t._v("教育经历")]),t._l(t.active.edu_list,(function(a,i){return 0!=t.active.edu_list.length?e("div",{staticStyle:{width:"100%",height:"93px","margin-bottom":"19px"}},[e("div",{staticStyle:{width:"50%",height:"100%",float:"left"}},[e("div",{staticClass:"tabbox"},[e("p",[t._v("毕业院校")]),e("div",{staticClass:"pboxc1"},[t._v(t._s(a.graduate_school))])]),e("div",{staticClass:"tabbox"},[e("p",[t._v("毕业时间")]),e("div",{staticClass:"pboxc1"},[t._v(t._s(a.graduate_time))])])]),e("div",{staticStyle:{width:"50%",height:"100%",float:"right"}},[e("div",{staticClass:"tabbox"},[e("p",[t._v("专业")]),e("div",{staticClass:"pboxc1"},[t._v(t._s(a.profession))])]),e("div",{staticClass:"tabbox"},[e("p",[t._v("学历")]),e("div",{staticClass:"pboxc1"},[t._v(t._s(t.docsa(a.edu_id)))])])])]):t._e()})),e("div",{directives:[{name:"show",rawName:"v-show",value:0==t.active.edu_list.length,expression:"active.edu_list.length==0"}],staticStyle:{width:"100%",height:"93px","margin-bottom":"19px","padding-top":"30px"}},[e("p",{staticStyle:{"font-size":"14px",color:"#666666","text-align":"center"}},[t._v("暂时没有数据")])]),e("p",{staticClass:"pbox",staticStyle:{"margin-top":"20px"}},[e("a",{staticStyle:{color:"red"}},[t._v("*")]),t._v("工作经历")]),t._l(t.active.work_list,(function(a,i){return 0!=t.active.work_list.length?e("div",{staticStyle:{width:"100%",height:"133px","margin-bottom":"15px"}},[e("div",{staticStyle:{width:"50%",height:"100%",float:"left"}},[e("div",{staticClass:"tabbox"},[e("p",[t._v("企业名称")]),e("div",{staticClass:"pboxc1"},[t._v(t._s(a.company_name))])]),e("div",{staticClass:"tabbox"},[e("p",[t._v("入职时间")]),e("div",{staticClass:"pboxc1"},[t._v(t._s(a.entry_time.substr(0,10)))])])]),e("div",{staticStyle:{width:"50%",height:"100%",float:"right"}},[e("div",{staticClass:"tabbox"},[e("p",[t._v("离职时间")]),e("div",{staticClass:"pboxc1"},[t._v(t._s(a.turnover_time.substr(0,10)))])]),e("div",{staticClass:"tabbox"},[e("p",[t._v("离职原因")]),e("div",{staticClass:"pboxc1",staticStyle:{height:"90px","word-break":"break-all","white-space":"normal","padding-right":"15px",overflow:"auto"}},[t._v(t._s(a.turnover_reason))])])])]):t._e()})),e("div",{directives:[{name:"show",rawName:"v-show",value:0==t.active.work_list.length,expression:"active.work_list.length==0"}],staticStyle:{width:"100%",height:"133px","margin-bottom":"19px","padding-top":"30px"}},[e("p",{staticStyle:{"font-size":"14px",color:"#666666","text-align":"center"}},[t._v("暂时没有数据")])]),e("p",{staticClass:"pbox",staticStyle:{"margin-top":"20px"}},[e("a",{staticStyle:{color:"red"}},[t._v("*")]),t._v("奖惩情况")]),t._l(t.active.rp_list,(function(a,i){return 0!=t.active.rp_list.length?e("div",{staticStyle:{width:"100%",height:"123px","margin-bottom":"10px"}},[e("div",{staticStyle:{width:"50%",height:"100%",float:"left"}},[e("div",{staticClass:"tabbox"},[e("p",[t._v("时间")]),e("div",{staticClass:"pboxc1"},[t._v(t._s(a.rp_time.substr(0,10)))])]),e("div",{staticClass:"tabbox"},[e("p",[t._v("奖惩方式")]),e("div",{staticClass:"pboxc1"},[t._v(t._s(1==a.type?"奖励":"惩罚"))])])]),e("div",{staticStyle:{width:"50%",height:"100%",float:"right"}},[e("div",{staticClass:"tabbox"},[e("p",[t._v("企业名称")]),e("div",{staticClass:"pboxc1"},[t._v(t._s(a.company_name))])]),e("div",{staticClass:"tabbox"},[e("p",[t._v("奖惩说明")]),e("div",{staticClass:"pboxc1",staticStyle:{height:"60px","word-break":"break-all","white-space":"normal","padding-right":"15px",overflow:"auto"}},[t._v(t._s(a.desc))])])])]):t._e()})),e("div",{directives:[{name:"show",rawName:"v-show",value:0==t.active.rp_list.length,expression:"active.rp_list.length==0"}],staticStyle:{width:"100%",height:"133px","padding-top":"30px"}},[e("p",{staticStyle:{"font-size":"14px",color:"#666666","text-align":"center"}},[t._v("暂时没有数据")])]),e("div",{staticStyle:{width:"100%",height:"50px","margin-top":"40px"}},[e("span",{staticStyle:{width:"200px",margin:"0 auto"}},[e("el-button",{on:{click:function(a){t.dialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(a){t.dialogVisible=!1}}},[t._v("确 定")])],1)])],2)],1)},s=[],o=(e("3a20"),e("7267"),e("debc")),l=e.n(o),c={name:"stu",components:{},computed:{docsa:function(){return function(t){for(var a=0;a<this.$store.state.suju_box.length;a++)if(this.$store.state.suju_box[a].value==t)return this.$store.state.suju_box[a].label}}},data:function(){return{loading:!1,btn_shou:!1,dialogVisible:!1,active:{id:"",name:"",sex:"",card:"",birth_day:"",age:"",phone:"",home_address:"",home_town:"",edu_id:"",politic_id:"",job_title:"",work_type:"",position_status:"",entry_time:"",turnover_time:"",company_id:"",company_name:"",is_poor:"",poor_id:"",is_military:"",time:"",edu_list:[{id:"",staff_id:"",graduate_school:"",graduate_time:"",profession:"",edu_id:"",time:""}],work_list:[{id:"",staff_id:"",entry_time:"",turnover_time:"",turnover_reason:"",company_id:"",company_name:"",time:""}],rp_list:[{id:"",rp_time:"",staff_id:"",company_id:"",company_name:"",type:"",desc:"",time:""}]}}},methods:{git_act:function(t){var a=this;console.log(t),this.dialogVisible=!0,l.a.ajax({url:"/pm/staff_info/get_staff_detail",type:"post",data:{id:t.id},dataType:"json",success:function(t){"[object Object]"!=Object.prototype.toString.call(t)&&(t=JSON.parse(t)),200==t.code?(a.active=t.data,console.log(a.active,"员工详情")):a.$message.error(t.msg)}})},handleClose:function(t){this.dialogVisible=!1}},mounted:function(){}},n=c,r=(e("f052"),e("e90a")),d=Object(r["a"])(n,i,s,!1,null,"0d27a6f3",null);a["a"]=d.exports},f052:function(t,a,e){"use strict";var i=e("2718"),s=e.n(i);s.a}}]);
//# sourceMappingURL=chunk-454e0ae0.77270ed0.js.map