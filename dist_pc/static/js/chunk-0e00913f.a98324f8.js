(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e00913f"],{"0556":function(t,e,a){"use strict";var i=a("9603"),s=a.n(i);s.a},"15c0":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stu",staticStyle:{position:"relative"}},[a("div",{staticStyle:{width:"100%",height:"56px","border-bottom":"1px solid #ECECEC","line-height":"56px"}},[a("el-select",{staticClass:"lef",staticStyle:{width:"80px"},attrs:{filterable:"",clearable:"",placeholder:"性别"},on:{change:t.git_active},model:{value:t.value.sex,callback:function(e){t.$set(t.value,"sex",e)},expression:"value.sex"}},[a("el-option",{attrs:{label:"男",value:"1"}}),a("el-option",{attrs:{label:"女",value:"0"}})],1),a("el-select",{staticClass:"lef",staticStyle:{width:"80px"},attrs:{filterable:"",clearable:"",placeholder:"学历"},on:{change:t.git_active},model:{value:t.value.edu_id,callback:function(e){t.$set(t.value,"edu_id",e)},expression:"value.edu_id"}},t._l(t.doc("EDU_S_T"),(function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})})),1),a("el-select",{staticClass:"lef",staticStyle:{width:"110px"},attrs:{filterable:"",clearable:"",placeholder:"是否党员"},on:{change:t.git_active},model:{value:t.value.politic_id,callback:function(e){t.$set(t.value,"politic_id",e)},expression:"value.politic_id"}},[a("el-option",{attrs:{label:"是",value:"13"}}),a("el-option",{attrs:{label:"否",value:"0"}})],1),a("el-select",{staticClass:"lef",staticStyle:{width:"120px"},attrs:{filterable:"",clearable:"",placeholder:"是否贫困户"},on:{change:t.git_active},model:{value:t.value.is_poor,callback:function(e){t.$set(t.value,"is_poor",e)},expression:"value.is_poor"}},[a("el-option",{attrs:{label:"是",value:"1"}}),a("el-option",{attrs:{label:"否",value:"0"}})],1),a("el-input",{staticClass:"lef",staticStyle:{width:"140px"},attrs:{placeholder:"姓名查询",clearable:""},model:{value:t.value.keyword,callback:function(e){t.$set(t.value,"keyword",e)},expression:"value.keyword"}}),a("el-button",{staticClass:"lef",staticStyle:{"margin-top":"7px"},attrs:{type:"success"},on:{click:t.git_active}},[t._v("查询")]),a("el-button",{staticStyle:{"margin-top":"7px",float:"right"},attrs:{type:"primary"},on:{click:function(e){return t.addyuan(!1)}}},[t._v("新增员工")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,width:"100%",height:"561",height:670,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{fixed:"","header-align":"center",align:"center",prop:"name",label:"姓名"}}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"name",label:"性别"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(1==e.row.sex?"男":"女"))]}}])}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"age",label:"年龄"}}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"edu_id",label:"岗位状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(1==e.row.position_status?"在职":"离职"))]}}])}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"phone",label:"联系电话",width:"120"}}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"edu_id",label:"学历"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.docsa(e.row.school[0].edu_id)))]}}])}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"politic_id",label:"政治面貌"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.docsa(e.row.politic_id)))]}}])}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"work_type",label:"工种"}}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"is_poor",label:"贫困人口"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(1==e.row.is_poor?"是":"否"))]}}])}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"name",label:"脱贫属性"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.docsa(e.row.poor_id)))]}}])}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"name",label:"服过兵役"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(1==e.row.is_military?"是":"否"))]}}])}),a("el-table-column",{attrs:{fixed:"right","header-align":"center",align:"center",label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.min(e.row)}}},[t._v("详情")]),a("el-button",{staticStyle:{color:"#FF4949"},attrs:{type:"text",size:"small"},on:{click:function(a){return t.addyuan(e.row)}}},[t._v("修改")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.liz(e.row)}}},[t._v("离职处理")])]}}])})],1),a("input",{staticStyle:{"BACKGROUND-COLOR":"transparent",opacity:"0",display:"none"},attrs:{type:"file",id:"excel-file"},on:{change:t.handleFile}}),a("el-button",{staticStyle:{float:"left","margin-top":"20px",padding:"10px 8px"},attrs:{type:"primary",icon:"el-icon-download"},on:{click:t.gityuan}},[t._v("导出员工信息")]),a("el-button",{staticStyle:{float:"left","margin-top":"20px",padding:"10px 8px"},attrs:{type:"primary",icon:"el-icon-upload"},on:{click:t.updata}},[t._v("导入员工信息")]),a("el-button",{staticStyle:{float:"left","margin-top":"20px",padding:"10px 8px"},attrs:{type:"primary",icon:"el-icon-download"},on:{click:t.mogit}},[t._v("模板下载")]),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.totals>8,expression:"totals>8"}],staticStyle:{"margin-top":"25px",float:"right"},attrs:{background:"","page-sizes":t.ye_s,"page-size":t.size,layout:"total, sizes, prev, pager, next, jumper",total:t.totals},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("jianact",{ref:"child"}),a("addyqqlyg",{ref:"adds"})],1)},s=[],l=(a("3a20"),a("7267"),a("9f47")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stu"},[a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{visible:t.dialogVisible,width:"35%","close-on-click-modal":!1,"before-close":t.handleClose,top:"3vh"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("p",{staticClass:"pbox",staticStyle:{"text-align":"center",width:"100%","font-size":"23px",height:"40px"}},[t._v(t._s(t.active?"修改员工信息":"新增员工信息")+" ")]),a("div",{staticClass:"tabboxa"},[a("p",[a("a",[t._v("*")]),t._v("姓名")]),a("el-input",{staticClass:"tabboxright",attrs:{placeholder:"请输入",clearable:""},model:{value:t.value.name,callback:function(e){t.$set(t.value,"name",e)},expression:"value.name"}})],1),a("div",{staticClass:"tabboxa"},[a("p",[a("a",[t._v("*")]),t._v("性别")]),a("el-select",{staticClass:"tabboxright",attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.value.sex,callback:function(e){t.$set(t.value,"sex",e)},expression:"value.sex"}},[a("el-option",{attrs:{label:"男",value:"1"}}),a("el-option",{attrs:{label:"女",value:"0"}})],1)],1),a("div",{staticClass:"tabboxa"},[a("p",[a("a",[t._v("*")]),t._v("身份证号码")]),a("el-input",{staticClass:"tabboxright",attrs:{placeholder:"请输入",clearable:""},model:{value:t.value.card,callback:function(e){t.$set(t.value,"card",e)},expression:"value.card"}})],1),a("div",{staticClass:"tabboxa"},[a("p",[a("a",[t._v("*")]),t._v("家庭住址")]),a("el-input",{staticClass:"tabboxright",attrs:{placeholder:"请输入"},model:{value:t.value.home_address,callback:function(e){t.$set(t.value,"home_address",e)},expression:"value.home_address"}})],1),a("div",{staticClass:"tabboxa"},[a("p",[a("a",[t._v("*")]),t._v("籍贯")]),a("el-input",{staticClass:"tabboxright",attrs:{placeholder:"请输入",clearable:""},model:{value:t.value.home_town,callback:function(e){t.$set(t.value,"home_town",e)},expression:"value.home_town"}})],1),a("div",{staticClass:"tabboxa"},[a("p",[a("a",[t._v("*")]),t._v("手机号码")]),a("el-input",{staticClass:"tabboxright",attrs:{type:"number",placeholder:"请输入",clearable:""},model:{value:t.value.phone,callback:function(e){t.$set(t.value,"phone",e)},expression:"value.phone"}})],1),a("div",{staticClass:"tabboxa"},[a("p",[a("a",[t._v("*")]),t._v("政治面貌")]),a("el-select",{staticClass:"tabboxright",attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.value.politic_id,callback:function(e){t.$set(t.value,"politic_id",e)},expression:"value.politic_id"}},t._l(t.doc("POLITIC_S_T"),(function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})})),1)],1),a("div",{staticClass:"tabboxa"},[a("p",[a("a",[t._v("*")]),t._v("入职时间")]),a("el-date-picker",{staticClass:"tabboxright",attrs:{placeholder:"请选择","value-format":"yyyy-MM-dd",type:"date",clearable:""},model:{value:t.value.entry_time,callback:function(e){t.$set(t.value,"entry_time",e)},expression:"value.entry_time"}})],1),a("div",{staticClass:"tabboxa"},[a("p",[t._v("职称")]),a("el-input",{staticClass:"tabboxright",attrs:{placeholder:"请输入",clearable:""},model:{value:t.value.job_title,callback:function(e){t.$set(t.value,"job_title",e)},expression:"value.job_title"}})],1),a("div",{staticClass:"tabboxa"},[a("p",[a("a",[t._v("*")]),t._v("工种")]),a("el-input",{staticClass:"tabboxright",attrs:{placeholder:"请输入",clearable:""},model:{value:t.value.work_type,callback:function(e){t.$set(t.value,"work_type",e)},expression:"value.work_type"}})],1),a("div",{staticClass:"tabboxa"},[a("p",[a("a",[t._v("*")]),t._v("岗位状态")]),a("el-select",{staticClass:"tabboxright",attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.value.position_status,callback:function(e){t.$set(t.value,"position_status",e)},expression:"value.position_status"}},[a("el-option",{attrs:{label:"在职",value:"1"}}),a("el-option",{attrs:{label:"离职",value:"0"}})],1)],1),a("div",{staticClass:"tabboxa"},[a("p",[a("a",[t._v("*")]),t._v("是否贫困人口")]),a("el-select",{staticClass:"tabboxright",attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.value.is_poor,callback:function(e){t.$set(t.value,"is_poor",e)},expression:"value.is_poor"}},[a("el-option",{attrs:{label:"是",value:"1"}}),a("el-option",{attrs:{label:"否",value:"0"}})],1)],1),a("div",{staticClass:"tabboxa"},[a("p",[t._v("脱贫属性")]),a("el-select",{staticClass:"tabboxright",attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.value.poor_id,callback:function(e){t.$set(t.value,"poor_id",e)},expression:"value.poor_id"}},t._l(t.doc("POOR_S_T"),(function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})})),1)],1),a("div",{staticClass:"tabboxa"},[a("p",[a("a",[t._v("*")]),t._v("是否服过兵役")]),a("el-select",{staticClass:"tabboxright",attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.value.is_military,callback:function(e){t.$set(t.value,"is_military",e)},expression:"value.is_military"}},[a("el-option",{attrs:{label:"是",value:"1"}}),a("el-option",{attrs:{label:"否",value:"0"}})],1)],1),a("div",{staticClass:"tabboxa"},[a("p",[t._v("毕业院校")]),a("el-input",{staticClass:"tabboxright",attrs:{placeholder:"请输入",clearable:""},model:{value:t.value.edu_list.graduate_school,callback:function(e){t.$set(t.value.edu_list,"graduate_school",e)},expression:"value.edu_list.graduate_school"}})],1),a("div",{staticClass:"tabboxa"},[a("p",[t._v("毕业时间")]),a("el-date-picker",{staticClass:"tabboxright",attrs:{placeholder:"请选择","value-format":"yyyy-MM-dd",type:"date",clearable:""},model:{value:t.value.edu_list.graduate_time,callback:function(e){t.$set(t.value.edu_list,"graduate_time",e)},expression:"value.edu_list.graduate_time"}})],1),a("div",{staticClass:"tabboxa"},[a("p",[t._v("专业")]),a("el-input",{staticClass:"tabboxright",attrs:{placeholder:"请输入",clearable:""},model:{value:t.value.edu_list.profession,callback:function(e){t.$set(t.value.edu_list,"profession",e)},expression:"value.edu_list.profession"}})],1),a("div",{staticClass:"tabboxa",staticStyle:{"margin-bottom":"45px"}},[a("p",[a("a",[t._v("*")]),t._v("学历")]),a("el-select",{staticClass:"tabboxright",attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:t.value.edu_list.edu_id,callback:function(e){t.$set(t.value.edu_list,"edu_id",e)},expression:"value.edu_list.edu_id"}},t._l(t.doc("EDU_S_T"),(function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})})),1)],1),a("span",{staticStyle:{width:"200px",margin:"0 auto"}},[a("el-button",{on:{click:t.handleClose}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.gitdelectact}},[t._v("确 定")])],1)]),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{visible:t.dialogVisible2,width:"35%","close-on-click-modal":!1,"before-close":t.handleClose2},on:{"update:visible":function(e){t.dialogVisible2=e}}},[a("p",{staticClass:"pbox",staticStyle:{"text-align":"center",width:"100%","font-size":"23px",height:"40px"}},[t._v("离职员工处理")]),a("div",{staticClass:"tabboxa"},[a("p",[a("a",[t._v("*")]),t._v("离职时间")]),a("el-date-picker",{staticClass:"tabboxright",attrs:{placeholder:"请选择","value-format":"yyyy-MM-dd",type:"date",clearable:""},model:{value:t.value2.turnover_time,callback:function(e){t.$set(t.value2,"turnover_time",e)},expression:"value2.turnover_time"}})],1),a("div",{staticClass:"tabboxa",staticStyle:{height:"120px","margin-bottom":"57px"}},[a("p",[a("a",[t._v("*")]),t._v("离职原因")]),a("el-input",{staticClass:"tabboxright",attrs:{"show-word-limit":"",maxlength:"500",type:"textarea",rows:5,placeholder:"请输入"},model:{value:t.value2.turnover_reason,callback:function(e){t.$set(t.value2,"turnover_reason",e)},expression:"value2.turnover_reason"}})],1),a("span",{staticStyle:{width:"200px",margin:"0 auto"}},[a("el-button",{on:{click:t.handleClose2}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.git_lifn}},[t._v("确 定")])],1)])],1)},n=[],r=(a("c354"),a("b128"),a("b3f9"),a("debc")),c=a.n(r),u={name:"stu",components:{},computed:{doc:function(){return function(t){for(var e=[],a=0;a<this.$store.state.suju_box.length;a++)this.$store.state.suju_box[a].type==t&&e.push(this.$store.state.suju_box[a]);return e}},docsa:function(){return function(t){for(var e=0;e<this.$store.state.suju_box.length;e++)if(this.$store.state.suju_box[e].value==t)return this.$store.state.suju_box[e].label}},isNull:function(){return function(t){if(""==t)return!0;var e="^[ ]+$",a=new RegExp(e);return a.test(t)}},isChn:function(){return function(t){var e=/^[\u4E00-\u9FA5]+$/;return e.test(t)}},isphone:function(){return function(t){var e=/^1[3456789]\d{9}$/;return e.test(t)}},iscard:function(){return function(t){var e=/^[1-9][0-9]{5}(19|20)[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|31)|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}([0-9]|x|X)$/;return e.test(t)}}},data:function(){return{loading:!1,btn_shou:!1,dialogVisible:!1,dialogVisible2:!1,active:{},value:{name:"",sex:"",card:"",home_address:"",home_town:"",phone:"",edu_id:"",politic_id:"",entry_time:"",job_title:"",work_type:"",position_status:"",is_poor:"",poor_id:"",is_military:"",company_id:"",company_name:"",edu_list:{graduate_school:"",graduate_time:"",profession:"",edu_id:""}},value2:{staff_id:"",company_id:"",company_name:"",turnover_reason:"",turnover_time:"",entry_time:""}}},methods:{git_fuchad:function(t){console.log(t),this.active=t,t?(this.value=t,t.school[0]&&(this.value.edu_list=t.school[0]),this.value.sex=this.value.sex+"",this.value.position_status=this.value.position_status+"",this.value.is_poor=this.value.is_poor+"",this.value.is_military=this.value.is_military+""):this.qin(),this.dialogVisible=!0},gitdelectact:function(){var t=this;if(this.isNull(this.value.name))return this.$message({message:"请填写 姓名",type:"warning"}),!1;if(!this.isChn(this.value.name))return this.$message({message:"姓名 必须为纯中文格式",type:"warning"}),!1;if(!this.value.sex)return this.$message({message:"请选择 性别",type:"warning"}),!1;if(this.isNull(this.value.card))return this.$message({message:"请填写 身份证号",type:"warning"}),!1;if(!this.iscard(this.value.card))return this.$message({message:"身份证号 格式不正确",type:"warning"}),!1;if(this.isNull(this.value.home_address))return this.$message({message:"请填写 家庭地址",type:"warning"}),!1;if(!this.isChn(this.value.home_address))return this.$message({message:"家庭地址 必须为纯中文格式",type:"warning"}),!1;if(this.isNull(this.value.home_town))return this.$message({message:"请填写 籍贯",type:"warning"}),!1;if(!this.isChn(this.value.home_town))return this.$message({message:"籍贯 必须为纯中文格式",type:"warning"}),!1;if(this.isNull(this.value.phone))return this.$message({message:"请填写 手机号码",type:"warning"}),!1;if(!this.isphone(this.value.phone))return this.$message({message:"手机号 格式不正确",type:"warning"}),!1;if(!this.value.politic_id)return this.$message({message:"请选择 政治面貌",type:"warning"}),!1;if(!this.value.entry_time)return this.$message({message:"请选择 入职时间",type:"warning"}),!1;if(this.isNull(this.value.work_type))return this.$message({message:"请填写 工种",type:"warning"}),!1;if(!this.isChn(this.value.work_type))return this.$message({message:"工种 必须为纯中文格式",type:"warning"}),!1;if(!this.value.position_status)return this.$message({message:"请选择 岗位状态",type:"warning"}),!1;if(!this.value.is_poor)return this.$message({message:"请选择 是否贫人口",type:"warning"}),!1;if(!this.value.is_military)return this.$message({message:"请选择 是否服过兵役",type:"warning"}),!1;if(!this.value.edu_list.edu_id)return this.$message({message:"请选择 学历",type:"warning"}),!1;this.value.company_id=localStorage.uid,this.value.company_name=localStorage.company,this.value.edu_id=this.value.edu_list.edu_id;var e=this.active?"/pm/staff_info/modify_staff":"/pm/staff_info/insert_staff";c.a.ajax({url:e,type:"post",data:this.value,dataType:"json",success:function(e){"[object Object]"!=Object.prototype.toString.call(e)&&(e=JSON.parse(e)),console.log(e,"新增修改数据"),200==e.code?(t.dialogVisible=!1,t.$parent.git_active(),t.$message({message:"操作成功",type:"success"}),t.qin()):t.$message({message:e.msg,type:"warning"})}})},qin:function(){this.value={name:"",sex:"",card:"",home_address:"",home_town:"",phone:"",edu_id:"",politic_id:"",entry_time:"",job_title:"",work_type:"",position_status:"",is_poor:"",poor_id:"",is_military:"",company_id:"",company_name:"",edu_list:{graduate_school:"",graduate_time:"",profession:"",edu_id:""}}},handleClose:function(t){var e=this;this.$confirm("确定取消关闭吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$parent.git_active(),e.dialogVisible=!1})).catch((function(){}))},git_fuchad2:function(t){console.log(t),this.dialogVisible2=!0,this.active=t},handleClose2:function(t){var e=this;this.$confirm("确定取消关闭吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$parent.git_active(),e.dialogVisible2=!1})).catch((function(){}))},git_lifn:function(){var t=this;if(!this.value2.turnover_time)return this.$message({message:"请选择 离职时间",type:"warning"}),!1;if(!this.value2.turnover_reason)return this.$message({message:"请填写 离职原因",type:"warning"}),!1;this.value2.company_id=localStorage.uid,this.value2.company_name=localStorage.company,this.value2.staff_id=this.active.id,this.value2.entry_time=this.active.entry_time;var e="/pm/retire_staff/insert_retire_staff";c.a.ajax({url:e,type:"post",data:this.value2,dataType:"json",success:function(e){"[object Object]"!=Object.prototype.toString.call(e)&&(e=JSON.parse(e)),console.log(e,"离职处理"),200==e.code?(t.dialogVisible2=!1,t.$parent.git_active(),t.$message({message:"操作成功",type:"success"}),t.value2={staff_id:"",company_id:"",company_name:"",turnover_reason:"",turnover_time:"",entry_time:""}):t.$message({message:e.msg,type:"warning"})}})}},mounted:function(){}},d=u,p=(a("bc92"),a("e90a")),v=Object(p["a"])(d,o,n,!1,null,"6eec42d4",null),_=v.exports,h={name:"stu",components:{jianact:l["a"],addyqqlyg:_},computed:{indexof:function(){return function(t,e){console.log(t,e);for(var a=0;a<t.length;a++)e==t[a].label&&(this.$store.state.tab_cox=a,console.log(123,this.$store.state.tab_cox))}},role:function(){return localStorage.role},docsa:function(){return function(t){for(var e=0;e<this.$store.state.suju_box.length;e++)if(this.$store.state.suju_box[e].value==t)return this.$store.state.suju_box[e].label}},doc:function(){return function(t){for(var e=[],a=0;a<this.$store.state.suju_box.length;a++)this.$store.state.suju_box[a].type==t&&e.push(this.$store.state.suju_box[a]);return e}}},data:function(){return{value:{sex:"",age_min:"",age_max:"",entry_time_start:"",entry_time_end:"",edu_id:"",politic_id:"",is_poor:"",keyword:"",company_id:"",page:"",size:"",position_status:1},recru:"",totals:0,tab_num:0,loading:!1,active:[],pages:1,size:10,ye_s:[10,15,20],tableData:[]}},methods:{tableRowClassName:function(t){var e=t.row;t.rowIndex;return 1==e.is_true?"":"warning-row"},liz:function(t){this.$refs.adds.git_fuchad2(t)},addyuan:function(t){this.$refs.adds.git_fuchad(t)},min:function(t){this.$refs.child.git_act(t)},git_active:function(){var t=this;this.loading=!0,this.value.company_id=localStorage.uid,this.value.page=this.pages,this.value.size=this.size,c.a.ajax({url:"/pm/staff_info/get_statff_list",type:"post",data:this.value,dataType:"json",success:function(e){"[object Object]"!=Object.prototype.toString.call(e)&&(e=JSON.parse(e)),console.log(e,"员工列表"),200==e.code?(t.tableData=e.data,t.totals=e.count):t.active=[],t.loading=!1}})},handleSizeChange:function(t){console.log("每页 ".concat(t," 条")),this.size=t,this.git_active()},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.pages=t,this.git_active()},gityuan:function(){if(0==this.tableData.length)return this.$message({message:"无数据可导出",type:"warning"}),!1;var t=this.value,e="?sex="+t.sex+"&age_min="+t.age_min+"&age_max="+t.age_max+"&entry_time_start="+t.entry_time_start+"&entry_time_end="+t.entry_time_end,a="&edu_id="+t.edu_id+"&politic_id="+t.politic_id+"&is_poor="+t.is_poor+"&keyword="+t.keyword+"&company_id="+t.company_id+"&position_status=1",i=0==this.role||1==this.role?"/pm/index/export_park_data":"/pm/index/export_staff_data",s=i+e+a;window.open(s)},mogit:function(){var t="/employee/employee_form.xlsx";window.open(t)},updata:function(){document.querySelector("#excel-file").click()},handleFile:function(t){var e=this,a=t.target.files[0],i=new FormData;i.append("flie",a),i.append("company_id",localStorage.uid),c()("#excel-file").val(""),c.a.ajax({url:"/pm/index/import_staff_data",type:"post",data:i,contentType:!1,processData:!1,dataType:"json",success:function(t){200==t.code&&(alert("上传成功"),e.git_active())}})}},mounted:function(){this.git_active(),this.indexof(this.$router.options.routes[1].children,"员工管理")}},b=h,g=(a("e61a"),a("fe5c"),Object(p["a"])(b,i,s,!1,null,"c84a008c",null));e["default"]=g.exports},"5de4":function(t,e,a){},"60f2":function(t,e,a){var i=a("d68d"),s=a("4ce0");t.exports=function(t,e,a){var l,o;return s&&"function"==typeof(l=e.constructor)&&l!==a&&i(o=l.prototype)&&o!==a.prototype&&s(t,o),t}},9603:function(t,e,a){},"9f47":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stu"},[a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{visible:t.dialogVisible,width:"52%","before-close":t.handleClose,top:"3vh"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("p",{staticClass:"pbox",staticStyle:{"text-align":"center",width:"100%","font-size":"30px",height:"40px"}},[t._v("员工信息详情")]),a("p",{staticClass:"pbox"},[a("a",{staticStyle:{color:"red"}},[t._v("*")]),t._v("基本信息")]),a("div",{staticStyle:{width:"100%",height:"255px","margin-bottom":"39px"}},[a("div",{staticStyle:{width:"50%",height:"220px",float:"left"}},[a("div",{staticClass:"tabbox"},[a("p",[t._v("姓名")]),a("div",{staticClass:"pboxc1",staticStyle:{width:"27.5%"}},[t._v(t._s(t.active.name))]),a("p",{staticStyle:{width:"9%"}},[t._v("性别")]),a("div",{staticClass:"pboxc1",staticStyle:{width:"27.5%"}},[t._v(t._s(1==t.active.sex?"男":"女"))])]),a("div",{staticClass:"tabbox"},[a("p",[t._v("出生年月")]),a("div",{staticClass:"pboxc1",staticStyle:{width:"27.5%"}},[t._v(t._s(t.active.birth_day))]),a("p",{staticStyle:{width:"9%"}},[t._v("年龄")]),a("div",{staticClass:"pboxc1",staticStyle:{width:"27.5%"}},[t._v(t._s(t.active.age))])]),a("div",{staticClass:"tabbox"},[a("p",[t._v("身份证号码")]),a("div",{staticClass:"pboxc1"},[t._v(t._s(t.active.card))])]),a("div",{staticClass:"tabbox"},[a("p",[t._v("是否贫困人口")]),a("div",{staticClass:"pboxc1"},[t._v(t._s(1==t.active.is_poor?"是":"否"))])]),a("div",{staticClass:"tabbox"},[a("p",[t._v("是否服过兵役")]),a("div",{staticClass:"pboxc1"},[t._v(t._s(1==t.active.is_military?"是":"否"))])])]),a("div",{staticStyle:{width:"50%",height:"220px",float:"right"}},[a("div",{staticClass:"tabbox"},[a("p",[t._v("政治面貌")]),a("div",{staticClass:"pboxc1",staticStyle:{width:"27.5%"}},[t._v(t._s(t.docsa(t.active.politic_id)))]),a("p",{staticStyle:{width:"9%"}},[t._v("籍贯")]),a("div",{staticClass:"pboxc1",staticStyle:{width:"27.5%"}},[t._v(t._s(t.active.home_town))])]),a("div",{staticClass:"tabbox"},[a("p",[t._v("入职时间")]),a("div",{staticClass:"pboxc1",staticStyle:{width:"27.5%"}},[t._v(t._s(t.active.entry_time.substr(0,10)))]),a("p",{staticStyle:{width:"9%"}},[t._v("职称")]),a("div",{staticClass:"pboxc1",staticStyle:{width:"27.5%"}},[t._v(t._s(t.active.job_title))])]),a("div",{staticClass:"tabbox"},[a("p",[t._v("岗位状态")]),a("div",{staticClass:"pboxc1",staticStyle:{width:"27.5%"}},[t._v(t._s(1==t.active.position_status?"在职":"离职"))]),a("p",{staticStyle:{width:"9%"}},[t._v("工种")]),a("div",{staticClass:"pboxc1",staticStyle:{width:"27.5%"}},[t._v(t._s(t.active.work_type))])]),a("div",{staticClass:"tabbox"},[a("p",[t._v("联系电话")]),a("div",{staticClass:"pboxc1"},[t._v(t._s(t.active.phone))])]),a("div",{staticClass:"tabbox"},[a("p",[t._v("脱贫属性")]),a("div",{staticClass:"pboxc1"},[t._v(t._s(t.docsa(t.active.poor_id)))])])]),a("div",{staticClass:"tabbox",staticStyle:{float:"left","margin-top":"10px"}},[a("p",{staticStyle:{width:"9.7%"}},[t._v("家庭住址")]),a("div",{staticClass:"pboxc1",staticStyle:{width:"85.1%"}},[t._v(t._s(t.active.home_address))])])]),a("p",{staticClass:"pbox"},[a("a",{staticStyle:{color:"red"}},[t._v("*")]),t._v("教育经历")]),t._l(t.active.edu_list,(function(e,i){return 0!=t.active.edu_list.length?a("div",{staticStyle:{width:"100%",height:"93px","margin-bottom":"19px"}},[a("div",{staticStyle:{width:"50%",height:"100%",float:"left"}},[a("div",{staticClass:"tabbox"},[a("p",[t._v("毕业院校")]),a("div",{staticClass:"pboxc1"},[t._v(t._s(e.graduate_school))])]),a("div",{staticClass:"tabbox"},[a("p",[t._v("毕业时间")]),a("div",{staticClass:"pboxc1"},[t._v(t._s(e.graduate_time))])])]),a("div",{staticStyle:{width:"50%",height:"100%",float:"right"}},[a("div",{staticClass:"tabbox"},[a("p",[t._v("专业")]),a("div",{staticClass:"pboxc1"},[t._v(t._s(e.profession))])]),a("div",{staticClass:"tabbox"},[a("p",[t._v("学历")]),a("div",{staticClass:"pboxc1"},[t._v(t._s(t.docsa(e.edu_id)))])])])]):t._e()})),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.active.edu_list.length,expression:"active.edu_list.length==0"}],staticStyle:{width:"100%",height:"93px","margin-bottom":"19px","padding-top":"30px"}},[a("p",{staticStyle:{"font-size":"14px",color:"#666666","text-align":"center"}},[t._v("暂时没有数据")])]),a("p",{staticClass:"pbox",staticStyle:{"margin-top":"20px"}},[a("a",{staticStyle:{color:"red"}},[t._v("*")]),t._v("工作经历")]),t._l(t.active.work_list,(function(e,i){return 0!=t.active.work_list.length?a("div",{staticStyle:{width:"100%",height:"133px","margin-bottom":"15px"}},[a("div",{staticStyle:{width:"50%",height:"100%",float:"left"}},[a("div",{staticClass:"tabbox"},[a("p",[t._v("企业名称")]),a("div",{staticClass:"pboxc1"},[t._v(t._s(e.company_name))])]),a("div",{staticClass:"tabbox"},[a("p",[t._v("入职时间")]),a("div",{staticClass:"pboxc1"},[t._v(t._s(e.entry_time.substr(0,10)))])])]),a("div",{staticStyle:{width:"50%",height:"100%",float:"right"}},[a("div",{staticClass:"tabbox"},[a("p",[t._v("离职时间")]),a("div",{staticClass:"pboxc1"},[t._v(t._s(e.turnover_time.substr(0,10)))])]),a("div",{staticClass:"tabbox"},[a("p",[t._v("离职原因")]),a("div",{staticClass:"pboxc1",staticStyle:{height:"90px","word-break":"break-all","white-space":"normal","padding-right":"15px",overflow:"auto"}},[t._v(t._s(e.turnover_reason))])])])]):t._e()})),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.active.work_list.length,expression:"active.work_list.length==0"}],staticStyle:{width:"100%",height:"133px","margin-bottom":"19px","padding-top":"30px"}},[a("p",{staticStyle:{"font-size":"14px",color:"#666666","text-align":"center"}},[t._v("暂时没有数据")])]),a("p",{staticClass:"pbox",staticStyle:{"margin-top":"20px"}},[a("a",{staticStyle:{color:"red"}},[t._v("*")]),t._v("奖惩情况")]),t._l(t.active.rp_list,(function(e,i){return 0!=t.active.rp_list.length?a("div",{staticStyle:{width:"100%",height:"123px","margin-bottom":"10px"}},[a("div",{staticStyle:{width:"50%",height:"100%",float:"left"}},[a("div",{staticClass:"tabbox"},[a("p",[t._v("时间")]),a("div",{staticClass:"pboxc1"},[t._v(t._s(e.rp_time.substr(0,10)))])]),a("div",{staticClass:"tabbox"},[a("p",[t._v("奖惩方式")]),a("div",{staticClass:"pboxc1"},[t._v(t._s(1==e.type?"奖励":"惩罚"))])])]),a("div",{staticStyle:{width:"50%",height:"100%",float:"right"}},[a("div",{staticClass:"tabbox"},[a("p",[t._v("企业名称")]),a("div",{staticClass:"pboxc1"},[t._v(t._s(e.company_name))])]),a("div",{staticClass:"tabbox"},[a("p",[t._v("奖惩说明")]),a("div",{staticClass:"pboxc1",staticStyle:{height:"60px","word-break":"break-all","white-space":"normal","padding-right":"15px",overflow:"auto"}},[t._v(t._s(e.desc))])])])]):t._e()})),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.active.rp_list.length,expression:"active.rp_list.length==0"}],staticStyle:{width:"100%",height:"133px","padding-top":"30px"}},[a("p",{staticStyle:{"font-size":"14px",color:"#666666","text-align":"center"}},[t._v("暂时没有数据")])]),a("div",{staticStyle:{width:"100%",height:"50px","margin-top":"40px"}},[a("span",{staticStyle:{width:"200px",margin:"0 auto"}},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)])],2)],1)},s=[],l=(a("3a20"),a("7267"),a("debc")),o=a.n(l),n={name:"stu",components:{},computed:{docsa:function(){return function(t){for(var e=0;e<this.$store.state.suju_box.length;e++)if(this.$store.state.suju_box[e].value==t)return this.$store.state.suju_box[e].label}}},data:function(){return{loading:!1,btn_shou:!1,dialogVisible:!1,active:{id:"",name:"",sex:"",card:"",birth_day:"",age:"",phone:"",home_address:"",home_town:"",edu_id:"",politic_id:"",job_title:"",work_type:"",position_status:"",entry_time:"",turnover_time:"",company_id:"",company_name:"",is_poor:"",poor_id:"",is_military:"",time:"",edu_list:[{id:"",staff_id:"",graduate_school:"",graduate_time:"",profession:"",edu_id:"",time:""}],work_list:[{id:"",staff_id:"",entry_time:"",turnover_time:"",turnover_reason:"",company_id:"",company_name:"",time:""}],rp_list:[{id:"",rp_time:"",staff_id:"",company_id:"",company_name:"",type:"",desc:"",time:""}]}}},methods:{git_act:function(t){var e=this;console.log(t),this.dialogVisible=!0,o.a.ajax({url:"/pm/staff_info/get_staff_detail",type:"post",data:{id:t.id},dataType:"json",success:function(t){"[object Object]"!=Object.prototype.toString.call(t)&&(t=JSON.parse(t)),200==t.code?(e.active=t.data,console.log(e.active,"员工详情")):e.$message.error(t.msg)}})},handleClose:function(t){this.dialogVisible=!1}},mounted:function(){}},r=n,c=(a("0556"),a("e90a")),u=Object(c["a"])(r,i,s,!1,null,"494dc7e6",null);e["a"]=u.exports},b128:function(t,e,a){var i=a("7a23"),s=a("d5dc"),l=a("12d9"),o=a("60f2"),n=a("c223").f,r=a("65af").f,c=a("e1dd"),u=a("0618"),d=a("dcb6"),p=a("3d8a"),v=a("f30e"),_=a("d0e2").set,h=a("a867"),b=a("57c4"),g=b("match"),m=s.RegExp,f=m.prototype,x=/a/g,y=/a/g,w=new m(x)!==x,C=d.UNSUPPORTED_Y,S=i&&l("RegExp",!w||C||v((function(){return y[g]=!1,m(x)!=x||m(y)==y||"/a/i"!=m(x,"i")})));if(S){var $=function(t,e){var a,i=this instanceof $,s=c(t),l=void 0===e;if(!i&&s&&t.constructor===$&&l)return t;w?s&&!l&&(t=t.source):t instanceof $&&(l&&(e=u.call(t)),t=t.source),C&&(a=!!e&&e.indexOf("y")>-1,a&&(e=e.replace(/y/g,"")));var n=o(w?new m(t,e):m(t,e),i?this:f,$);return C&&a&&_(n,{sticky:a}),n},k=function(t){t in $||n($,t,{configurable:!0,get:function(){return m[t]},set:function(e){m[t]=e}})},j=r(m),z=0;while(j.length>z)k(j[z++]);f.constructor=$,$.prototype=f,p(s,"RegExp",$)}h("RegExp")},b295:function(t,e,a){},b7e2:function(t,e,a){},bc92:function(t,e,a){"use strict";var i=a("b295"),s=a.n(i);s.a},c354:function(t,e,a){var i=a("7a23"),s=a("c223").f,l=Function.prototype,o=l.toString,n=/^\s*function ([^ (]*)/,r="name";i&&!(r in l)&&s(l,r,{configurable:!0,get:function(){try{return o.call(this).match(n)[1]}catch(t){return""}}})},e61a:function(t,e,a){"use strict";var i=a("b7e2"),s=a.n(i);s.a},fe5c:function(t,e,a){"use strict";var i=a("5de4"),s=a.n(i);s.a}}]);
//# sourceMappingURL=chunk-0e00913f.a98324f8.js.map